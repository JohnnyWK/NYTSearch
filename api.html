<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>API</title>
</head>
<body>
    <div id="article"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
    var APIKey = "mHsUZ2ywuwWde8y9GHZYaoaGWL8zgKlX";
    var queryURL = "https://api.nytimes.com/svc/topstories/v2/science.json?api-key=" + APIKey;
        $.ajax({
        url: queryURL,
        method: "GET"
        }).then(function(response) {
            console.log(response);
            var results = response.results;


            for (var i = 0; i < results.length; i++) {

                var articleDiv = $("<div>");
                var yearDiv = $("<p>")
                var urlDiv = $("<a>")
                var br = $("<br>")

                var year = results[i].published_date.substring(0, 4)
                yearDiv.text("Published Year: " + year);
                urlDiv.attr("href", results[i].url);
                urlDiv.attr("target", "_blank");
                urlDiv.text(results[i].url);

                articleDiv.append(yearDiv);

                articleDiv.append("Title: " + results[i].title);

                articleDiv.append(br);

                articleDiv.append("Link: ");
                articleDiv.append(urlDiv);

                console.log(urlDiv)



                $("#article").append(articleDiv);
                
            }
        })
        

    </script>
    
</body>
</html>